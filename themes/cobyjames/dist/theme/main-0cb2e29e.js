/*!
 * 
 * cobyjames
 * 
 * @author evankford (evankerrickford@gmail.com) <http://evankerrickford.com>
 * @version 0.1.0
 * @link UNLICENSED
 * @license UNLICENSED
 * 
 * Copyright (c) 2019 evankford (evankerrickford@gmail.com) <http://evankerrickford.com>
 * 
 * This software is released under the UNLICENSED License
 * https://opensource.org/licenses/UNLICENSED
 * 
 * Compiled with the help of https://wpack.io
 * A zero setup Webpack Bundler Script for WordPress
 */
(window.wpackiocobyjamesthemeJsonp=window.wpackiocobyjamesthemeJsonp||[]).push([[0],[,,,,,,,function(t,e,a){"use strict";a.r(e),a.d(e,"default",(function(){return u}));var i=a(5),n=a.n(i),r=a(12),s=a(1),l=a(3),o=(a(24),["January","February","March","April","May","June","July","August","September","October","November","December"]),d=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],u=function(){function t(e){var a=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{appId:"mySite",artist:"Lauren Daigle",limit:8,dateFormat:"long numbers",numberFormat:"long",filterString:!1,showLineup:!1,fallback:".bit-fallback",showYear:!1};Object(s.a)(this,t),this.el=e,this.shows=[],this.expandButton=this.el.querySelector("[data-expand-bit]"),this.checkDefaultValues(i),this.getShowData().then((function(t){a.shows=t,a.renderAllShows()}));this.addClickListeners()}var e;return Object(l.a)(t,[{key:"checkDefaultValues",value:function(t){this.appId=t.appId,this.artist=t.artist,this.dateFormat=t.dateFormat,this.filterString=t.filterString,this.limit=t.limit,this.showLineup=t.showLineup,this.showYear=t.showYear,0!=this.el.getAttribute("data-artist")&&(this.artist=this.el.getAttribute("data-artist")),0!=this.el.getAttribute("data-app-id")&&(this.appId=this.el.getAttribute("data-app-id")),0!=this.el.getAttribute("data-limit")&&(this.limit=this.el.getAttribute("data-limit")),0!=this.el.getAttribute("data-filter")&&(this.filterString=this.el.getAttribute("data-filter")),0!=this.el.getAttribute("data-show-lineup")&&"false"!=this.el.getAttribute("data-show-lineup")&&(this.showLineup=this.el.getAttribute("data-show-lineup")),0!=this.el.getAttribute("data-year")&&"false"!=this.el.getAttribute("data-year")&&(this.showYear=this.el.getAttribute("data-year")),0!=this.el.getAttribute("data-date-format")&&(this.dateFormat=this.el.getAttribute("data-date-format")),0!=this.el.getAttribute("data-date-format")&&(this.dateFormat=this.el.getAttribute("data-date-format"))}},{key:"getShowData",value:(e=Object(r.a)(n.a.mark((function t(){var e,a,i;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.artist.replace(" ",""),a="https://rest.bandsintown.com/artists/"+e+"/events?app_id="+this.appId,t.prev=2,t.next=5,fetch(a,{method:"GET"});case 5:if((i=t.sent).ok){t.next=9;break}throw this.el.querySelector(".error").classList.remove("hidden"),new Error("Failed to load dates. "+i.message);case 9:return t.abrupt("return",i.json());case 12:t.prev=12,t.t0=t.catch(2),console.log("There has been a problem with your fetch operation: ",error.message);case 15:case"end":return t.stop()}}),t,this,[[2,12]])}))),function(){return e.apply(this,arguments)})},{key:"renderDate",value:function(t){var e=new Date(t.datetime),a=e.getMonth(),i=e.getYear()-100,n=e.getDate().toString(),r=document.createElement("span");r.classList.add("bit-date");var s="";switch(this.dateFormat){case"long numbers":1==(a=(a+1).toString()).length&&(s+="0"),s+=a+".",1==n.length&&(s+="0"),s+=n,this.showYear&&(s+="."+i);break;case"long words":s+=o[a]+" "+n,this.showYear&&(s+=", "+i);break;case"short words":s+=d[a]+" "+n,this.showYear&&(s+=", "+i);break;default:s+=(a=(a+1).toString())+"."+n,this.showYear&&(s+="."+i)}return r.innerHTML=s,r}},{key:"renderInfo",value:function(t){var e=document.createElement("span");e.classList.add("bit-info");var a=t.venue.region;"United States"!=t.venue.country&&(a=t.venue.country);var i=t.venue.name,n='<span class="bit-city">'+t.venue.city+", "+a+'</span><span class="bit-venue">'+i+"</span>";return this.showLineup&&(n+='<span class="bit-lineup">'+t.lineup+"</span>"),e.innerHTML=n,e}},{key:"renderLinks",value:function(t){var e=document.createElement("span");e.classList.add("bit-links");var a=t.offers;if(a.forEach((function(t){var a=document.createElement("a");a.setAttribute("href",t.url),a.classList.add("button"),a.classList.add("arrow-after"),a.classList.add("small"),"sold out"==t.status?(a.innerHTML="Sold Out",a.classList.add("sold-out")):"available"!=t.status?a.innerHTML="Info":a.innerHTML=t.type,"VIP"==t.type&&a.classList.add("link-vip"),e.append(a)})),0==a.length){var i=document.createElement("a");i.setAttribute("href",t.url),i.innerHTML="Info",i.classList.add("button"),i.classList.add("arrow-after"),i.classList.add("small"),e.append(i)}return e}},{key:"renderShow",value:function(t){var e=document.createElement("div");e.classList.add("bit-show");var a=this.renderDate(t),i=this.renderInfo(t),n=this.renderLinks(t);return e.append(a,i,n),e}},{key:"renderAllShows",value:function(){var t=this,e=document.createElement("div"),a=document.createElement("div");e.classList.add("bit-wrapper"),a.classList.add("bit-wrapper"),a.classList.add("bit-extra");var i=0;if(this.shows.forEach((function(n){var r=t.renderShow(n);++i<=t.limit?e.append(r):a.append(r)})),this.shows.length<this.limit){var n=this.el.querySelector(this.fallback);n&&n.classList.remove("hidden")}else this.expandButton.classList.remove("hidden");this.el.prepend(e,a),this.el.querySelector(".loader").classList.add("hidden")}},{key:"toggleExpand",value:function(){var t=this.el.querySelector(".bit-extra");if("expanded"==this.expandButton.getAttribute("data-expand-bit"))this.expandButton.innerHTML="More Shows",this.expandButton.setAttribute("data-expand-bit",""),t.style.maxHeight="0px";else{this.expandButton.setAttribute("data-expand-bit","expanded");var e=t.querySelectorAll(".bit-show"),a=e[0].getBoundingClientRect().height*(1.75*e.length);console.log(a),t.style.maxHeight=a+"px",this.expandButton.innerHTML="Less Shows"}}},{key:"clickListener",value:function(t){t.target==this.expandButton&&this.toggleExpand()}},{key:"addClickListeners",value:function(){var t=this;this.el.addEventListener("click",(function(e){return t.clickListener(e)}))}}]),t}()},,function(t,e,a){"use strict";a.r(e),a.d(e,"default",(function(){return r}));var i=a(1),n=a(13),r=(a(25),function t(e){if(Object(i.a)(this,t),this.el=e,"video"==e.getAttribute("data-lightbox-type")){var a=e.getAttribute("href"),r=a.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/);console.log(a);var s=r[1],l=n.create('\n      <div class="iframe-wrap">\n        <iframe src="https://www.youtube.com/embed/'.concat(s,'?rel=0&autoplay=1" width="560" height="315" frameborder="0" allowfullscreen="true" autoplay="true"></iframe>\n      </div>'));e.addEventListener("click",(function(t){t.preventDefault(),l.show()}))}})},function(t,e,a){"use strict";a.r(e),a.d(e,"default",(function(){return s}));var i=a(1),n=a(14),r=a.n(n),s=function t(e){Object(i.a)(this,t),this.el=e,e.paraInstance=new r.a(e)}},function(t,e,a){"use strict";a.r(e),a.d(e,"default",(function(){return s}));var i=a(0),n=a(1),r=a(15),s=(a(26),function t(e){var a;Object(n.a)(this,t),this.el=e,e.defaultWidth=2,e.defaultAnimation="slide",e.defaultSlide=1,e.defaultSpeed=400,e.defaultSpace=30,e.smallSpace=20,e.defaultScrollbar=!1,e.mobileSlideWidth=1.25,e.pagination=!1,e.loop=!1,e.centered=!0,e.giantSpace=75,"music"==e.getAttribute("data-swiper-type")&&(e.defaultAnimation="flip",e.defaultWidth=1,e.defaultSpeed=800,e.defaultSlide=0,e.defaultSpace=e.smallSpace=0,e.pagination={el:".swiper-pagination",dynamicBullets:!0},e.mobileSlideWidth=1),"video"==e.getAttribute("data-swiper-type")&&(e.defaultSlide=0,e.loop=!0,e.defaultWidth="auto",e.mobileSlideWidth=1.5,e.centered=!0,e.pagination={el:".swiper-pagination",dynamicBullets:!0}),e.mySwiper=new r.a(e,(a={slidesPerView:e.defaultWidth,spaceBetween:e.defaultSpace,centeredSlides:e.centered,breakpoints:{900:{slidesPerView:e.mobileSlideWidth,spaceBetween:e.smallSpace},1400:{spaceBetween:e.giantSpace}},flipEffect:{slideShadows:!1},speed:e.defaultSpeed,cssMode:!1,autoHeight:!0,loop:e.loop},Object(i.a)(a,"centeredSlides",!0),Object(i.a)(a,"effect",e.defaultAnimation),Object(i.a)(a,"threshold",7),Object(i.a)(a,"draggable",!0),Object(i.a)(a,"slideToClickedSlide",!0),Object(i.a)(a,"initialSlide",e.defaultSlide),Object(i.a)(a,"scrollbar",e.defaultScrollbar),Object(i.a)(a,"centerInsufficientSlides",!0),Object(i.a)(a,"pagination",e.pagination),Object(i.a)(a,"navigation",{nextEl:e.querySelector(".swiper-button-next"),prevEl:e.querySelector(".swiper-button-prev")}),a)),window.addEventListener("load",(function(){e.mySwiper.update()}))})},,,,,function(t,e,a){a(17),t.exports=a(18)},,function(t,e,a){"use strict";a.r(e);a(19),a(20),a(6),a(21);window.addEventListener("load",(function(){document.querySelectorAll(".bgvideo-wrap").forEach((function(t){t.querySelectorAll("[data-src]").forEach((function(t){t.setAttribute("src",t.getAttribute("data-src"))})),t.classList.remove("loading"),t.classList.add("loaded"),t.vid=t.querySelector("video"),t.vid.load()}))})),document.querySelector(".main-navigation").querySelectorAll("a").forEach((function(t){t.addEventListener("click",(function(t){var e=document.getElementById(/\#(.*)/.exec(t.target.href)[1]);e&&(t.preventDefault(),e.scrollIntoView({behavior:"smooth"}),menuButton.setAttribute("aria-expanded","false"))}))})),Array.from(document.querySelectorAll("[data-module]")).forEach((function(t){var e=t.getAttribute("data-module");new(0,a(22)("./".concat(e)).default)(t)}))},function(t,e){/(trident|msie)/i.test(navigator.userAgent)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",(function(){var t,e=location.hash.substring(1);/^[A-z0-9_-]+$/.test(e)&&(t=document.getElementById(e))&&(/^(?:a|select|input|button|textarea)$/i.test(t.tagName)||(t.tabIndex=-1),t.focus())}),!1)},function(t,e,a){},,function(t,e,a){var i={"./bandsintown":7,"./bandsintown.js":7,"./lightbox":9,"./lightbox.js":9,"./parallax":10,"./parallax.js":10,"./swiper":11,"./swiper.js":11};function n(t){var e=r(t);return a(e)}function r(t){if(!a.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}n.keys=function(){return Object.keys(i)},n.resolve=r,t.exports=n,n.id=22}],[[16,1,2]]]);
//# sourceMappingURL=main-0cb2e29e.js.map